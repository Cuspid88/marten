Marten.configure :test do |config|
  config.database do |db|
    # Warning: the database used in the context of specs will be flushed and generated automatically every time the
    # specs suite is executed. Do not set these database names to the same names as the ones used for your development
    # or production environments.
    # If test database names are not explicitly set, your specs suite won't be allowed to run at all.
    db.name = ":memory:"

    config.allowed_hosts = ["127.0.0.1"]

    config.emailing.backend = Marten::Emailing::Backend::Development.new(collect_emails: true, print_emails: false)
  end
end
